<div class="col-md-10 col-md-offset-1">
    <div class="page-header">
        <h1><span class="glyphicon glyphicon-briefcase"></span> <strong>Net Assets:</strong> {{netassets}}</h1>
    </div>
    <tabset>
        <tab heading="Assets" popover="Group by Assets" popover-trigger="mouseenter" popover-placement="bottom">

            <div class="col-md-6">
                <nvd3-pie-chart data="chartdata" height="450" showLabels="true" noData="Nothing to show"
                    x="nameFunction()" y="ppuFunction()" tooltips="true" labelType="percent" showLegend="true"
                    objectEquality="true" ng-show="chartdata.length">
                    <svg></svg>
                </nvd3-pie-chart>
                <div class="text-center emptychart" ng-hide="chartdata.length"> <h3><strong>Nothing to show</strong></h3> </div>
                <h1 class="chart-title"> Invested Assets </h1>
            </div>

            <div class="col-md-6">
                <nvd3-pie-chart data="chartdata" height="450" showLabels="true" noData="Nothing to show"
                    x="nameFunction()" y="cppuFunction()" tooltips="true" labelType="percent" showLegend="true"
                    objectEquality="true" ng-show="chartdata.length">
                    <svg></svg>
                </nvd3-pie-chart>
                <div class="text-center emptychart" ng-hide="chartdata.length"> <h3><strong>Nothing to show</strong></h3> </div>
                <h1 class="chart-title"> Current Assets</h1>
            </div>
            <div class="clearfix visible-*"></div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <tr>
                        <th class='text-center'><input type="checkbox" name="admin" ng-model="assetsInfo.assetchartincludeall" ng-change="selectallassets()"></th>
                        <th class='text-center'></th>
                        <th class='text-center'>Asset Name</th>
                        <th class='text-center'>Category</th>
                        <th class='text-center'>Sub-Category</th>
                        <th class='text-center'>Units</th>
                        <th class='text-center'>Invested Price Per Unit</th>
                        <th class='text-center'>Invested Total</th>
                        <th class='text-center'>Current Price Per Unit</th>
                        <th class='text-center' colspan="20">Current Total</th>

                    </tr>

                    <tr ng-repeat="asset in data">
                        <td class='text-center'>
                            <input type="checkbox" name="admin" ng-model="asset.extra.chartinclude" ng-change="selectedassets()">
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode">
                                <div class="glyphicon glyphicon-plus col-md-6 btn-link" ng-click=addrow($index) popover="Add an asset above" popover-trigger="mouseenter" popover-placement="top"></div>
                                <div class="glyphicon glyphicon-minus btn-link" ng-click=removerow($index) popover="Remove this asset" popover-trigger="mouseenter" popover-placement="top"></div>
                            </span>
                            <span ng-show="asset.extra.editMode">
                                <div class="glyphicon glyphicon-ok col-md-6 btn-link ok" ng-click="submitchanges($index)" popover="Submit the changes" popover-trigger="mouseenter" popover-placement="top"></div>
                                <div class="glyphicon glyphicon-remove btn-link" ng-click="cancelchanges($index)" popover="Cancel the changes" popover-trigger="mouseenter" popover-placement="top"></div>
                            </span>
                        </td>
                        <td class='text-center' >
                            <span ng-hide="asset.extra.editMode" popover="{{asset.assetdescription}}" popover-title="Description" popover-trigger="mouseenter" popover-placement="top" ng-click="entereditmode($index)">
                                {{asset.assetname}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.assetname" ng-required />
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode" ng-click="entereditmode($index)">
                                {{asset.subcategoryid}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.subcategoryid" ng-required />
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode" ng-click="entereditmode($index)">
                                {{asset.subcategoryid}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.subcategoryid" ng-required />
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode" ng-click="entereditmode($index)">
                                {{asset.units}} {{asset.unitform}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.units" ng-required />
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.unitform" placeholder="units (ex. gms)" />
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode" ng-click="entereditmode($index)">
                                {{asset.ppu}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.ppu" ng-required />
                        </td>
                        <td class='text-center'>
                            <span ng-click="entereditmode($index)">
                                {{getppu(data[$index])}}
                            </span>
                        </td>
                        <td class='text-center'>
                            <span ng-hide="asset.extra.editMode" ng-click="entereditmode($index)">
                                {{asset.cppu}}
                            </span>
                            <input type="text" ng-show="asset.extra.editMode" ng-model="asset.extra.copy.cppu" ng-required />
                        </td>
                        <td class='text-center'>
                            <span ng-click="entereditmode($index)">
                                {{getcppu(data[$index])}}
                            </span>
                        </td>

                    </tr>

                    <tr>
                        <td></td>
                        <td class='text-center'>
                            <div class="glyphicon glyphicon-plus col-md-6 btn-link" ng-click=addrow(-1) popover="Add an asset at the end" popover-trigger="mouseenter" popover-placement="top"></div>
                        </td>
                        <td colspan="20"></td>
                    </tr>

                </table>
            </div>

        </tab>
        <tab heading="Asset Types" popover="Group by Asset types" popover-trigger="mouseenter" popover-placement="bottom">

        </tab>
        <tab heading="Sub Asset Types" popover="Group by Sub Asset types" popover-trigger="mouseenter" popover-placement="bottom">

        </tab>
        <tab heading="Risk" popover="Group by Risk types" popover-trigger="mouseenter" popover-placement="bottom">

        </tab>
        <tab heading="Update Asset Types" popover="Add/Update/Remove asset types" popover-trigger="mouseenter" popover-placement="bottom">

        </tab>
    </tabset>
</div>